# 多线程编程

## 定义

**线程**是操作系统能够进行运算调度的最小单位，它被包含在**进程**之中，是**进程**中的实际运作单位。

**多线程**就是指从软件或者硬件上实现**多个线程并发执行**的技术。

多线程是为了**同步完成多项任务**，不是为了提高运行效率，而是为了**提高资源使用效率**来提高系统的效率。多线程是在同一时间需要完成多项任务的时间实现的。

## 优点

1. **加快程序的运行速度，使程序的响应速度更快**，因为用户界面可以在进行其它工作的同时一直处于活动状态
2. 可以把占据长时间的程序中的任务**放到后台去处理**，**同时执行其它操作**，提高效率
3. 当前没有处理的任务时可以将处理器时间让给其它任务
4. 可以让同一个程序的不同部分并发执行，**释放一些珍贵的资源如内存占用**等等
5. 可以**随时停止任务**
6. 可以分别设置各个任务的**优先级以优化性能**

## 缺点

1. 因为多线程**需要开辟内存**，而且线程切换**需要时间**。因此会很消耗系统内存
2. 线程的终止会对程序产生影响
3. 由于多个线程之间存在**共享数据**，因此**容易出现线程死锁**的情况
4. 对线程进行管理要求**额外的CPU开销**。线程的使用会给系统带来上下文切换的额外负担

## 同步与互斥的概念

## 同步

指散布在不同任务之间的若干程序片段，它们的运行**必须严格**按照规定的某种先后次序来运行，这种先后次序依赖于要完成的特定的任务。最基本的场景就是：**两个或两个以上的进程或线程在运行过程中协同步调，按预定的先后次序运行。比如A任务的运行依赖于B任务产生的数据**

## 互斥

是指散布在不同任务之间的若干程序片段，当某个任务运行其中一个程序片段时，其它任务就不能运行它们之中的任一程序片段，只能等到该任务运行完整个程序片段后才可以运行。最基本的场景就是：**一个公共资源同一时刻只能被提高进程或线程使用，多个线程或进程不能同时使用公共资源**


