# vscode免密登录服务器

## ssh连接上服务器

> $ ps -e | grep ssh     # 查看是否有ssh
>
> $ sudo apt install openssh-server    # 安装SSH
>
> $ sudo service ssh start   # 启动SSH

## Windows端执行

> ssh-keygen  -t  rsa  -C    "github账号邮箱"

一直按`enter`即可，最终会在`C:\Users\20902\.ssh`目录下，生成两个文件：

> id_rsa
>
> id_rsa.pub

## 服务器端

输入同样的命令，在`/home/codespace/.ssh`文件下也会生成`id_rsa`和`id_rsa.pub`文件

> ssh-keygen -t rsa -C "github账号邮箱"

然后在`/home/codespace/.ssh`文件下，新建一个文件，名字是`authorized_keys`,直接将Windows端目录`C:\Users\20902\.ssh`下的`id_rsa.pub`文件内容复制到`authorized_keys`中。

# 创建新用户

 adduser：会自动为创建的用户指定主目录、系统shell版本，会在创建时输入用户密码。 

输入命令：`$  sudo adduser tt`

# 给新用户添加权限

1.切换到root用户下 
方法为直接在命令行输入：*su*，然后输入密码（即你的登录密码，且密码默认不可见）。

2./etc/sudoers文件默认是只读的，对root来说也是，因此需先添加sudoers文件的写权限，命令是: 
即执行操作：*chmod u+w /etc/sudoers*

3.编辑sudoers文件 
即执行：*vi /etc/sudoers* 
找到这行 root ALL = (ALL) ALL,在他下面添加xxx ALL=(ALL) ALL (这里的xxx是你的用户名)
![img](img/1012444-20200302143551603-1761963241.png)

4.撤销sudoers文件写权限，命令：
*chmod u-w /etc/sudoers*
5.切换用户
*su yakong*

# 换源

查看当前系统的代号

> lsb_release -a 

备份原来的源

> cp -ra /etc/apt/sources.list /etc/apt/sources.list.bak

更新缓存和升级

> sudo apt-get update
> sudo apt-get upgrade

> sudo vi /etc/resolv.conf
>
> nameserver 8.8.8.8

